var Fn=Object.defineProperty;var On=(t,e,n)=>e in t?Fn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var et=(t,e,n)=>(On(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function B(){}const He=t=>t;function Oe(t,e){for(const n in e)t[n]=e[n];return t}function pn(t){return t()}function yt(){return Object.create(null)}function oe(t){t.forEach(pn)}function Be(t){return typeof t=="function"}function V(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Pn(t){return Object.keys(t).length===0}function qe(t,...e){if(t==null){for(const s of e)s(void 0);return B}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function Me(t){let e;return qe(t,n=>e=n)(),e}function W(t,e,n){t.$$.on_destroy.push(qe(e,n))}function zn(t,e,n,s){if(t){const r=gn(t,e,n,s);return t[0](r)}}function gn(t,e,n,s){return t[1]&&s?Oe(n.ctx.slice(),t[1](s(e))):n.ctx}function Bn(t,e,n,s){if(t[2]&&s){const r=t[2](s(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const i=[],l=Math.max(e.dirty.length,r.length);for(let c=0;c<l;c+=1)i[c]=e.dirty[c]|r[c];return i}return e.dirty|r}return e.dirty}function Yn(t,e,n,s,r,i){if(r){const l=gn(e,n,s,i);t.p(l,r)}}function Zn(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let s=0;s<n;s++)e[s]=-1;return e}return-1}function Gn(t,e,n){return t.set(n),e}const hn=typeof window<"u";let We=hn?()=>window.performance.now():()=>Date.now(),pt=hn?t=>requestAnimationFrame(t):B;const Le=new Set;function bn(t){Le.forEach(e=>{e.c(t)||(Le.delete(e),e.f())}),Le.size!==0&&pt(bn)}function Je(t){let e;return Le.size===0&&pt(bn),{promise:new Promise(n=>{Le.add(e={c:t,f:n})}),abort(){Le.delete(e)}}}function A(t,e){t.appendChild(e)}function wn(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Vn(t){const e=M("style");return e.textContent="/* empty */",Xn(wn(t),e),e.sheet}function Xn(t,e){return A(t.head||t,e),e.sheet}function L(t,e,n){t.insertBefore(e,n||null)}function E(t){t.parentNode&&t.parentNode.removeChild(t)}function be(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function M(t){return document.createElement(t)}function j(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function te(t){return document.createTextNode(t)}function F(){return te(" ")}function $(){return te("")}function ie(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function d(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function jn(t){return t===""?null:+t}function $n(t){return Array.from(t.childNodes)}function fe(t,e){e=""+e,t.data!==e&&(t.data=e)}function Ge(t,e){t.value=e??""}function D(t,e,n,s){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}function vt(t,e,n){t.classList.toggle(e,!!n)}function Hn(t,e,{bubbles:n=!1,cancelable:s=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:s})}const Ve=new Map;let Xe=0;function qn(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Wn(t,e){const n={stylesheet:Vn(e),rules:{}};return Ve.set(t,n),n}function je(t,e,n,s,r,i,l,c=0){const o=16.666/s;let u=`{
`;for(let p=0;p<=1;p+=o){const b=e+(n-e)*i(p);u+=p*100+`%{${l(b,1-b)}}
`}const f=u+`100% {${l(n,1-n)}}
}`,a=`__svelte_${qn(f)}_${c}`,_=wn(t),{stylesheet:v,rules:g}=Ve.get(_)||Wn(_,t);g[a]||(g[a]=!0,v.insertRule(`@keyframes ${a} ${f}`,v.cssRules.length));const m=t.style.animation||"";return t.style.animation=`${m?`${m}, `:""}${a} ${s}ms linear ${r}ms 1 both`,Xe+=1,a}function $e(t,e){const n=(t.style.animation||"").split(", "),s=n.filter(e?i=>i.indexOf(e)<0:i=>i.indexOf("__svelte")===-1),r=n.length-s.length;r&&(t.style.animation=s.join(", "),Xe-=r,Xe||Jn())}function Jn(){pt(()=>{Xe||(Ve.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&E(e)}),Ve.clear())})}let Pe;function Ue(t){Pe=t}function yn(){if(!Pe)throw new Error("Function called outside component initialization");return Pe}function Qe(t){yn().$$.on_mount.push(t)}function Qn(t){yn().$$.on_destroy.push(t)}const Ee=[],ft=[];let Ne=[];const kt=[],xn=Promise.resolve();let at=!1;function es(){at||(at=!0,xn.then(vn))}function Y(t){Ne.push(t)}const tt=new Set;let ve=0;function vn(){if(ve!==0)return;const t=Pe;do{try{for(;ve<Ee.length;){const e=Ee[ve];ve++,Ue(e),ts(e.$$)}}catch(e){throw Ee.length=0,ve=0,e}for(Ue(null),Ee.length=0,ve=0;ft.length;)ft.pop()();for(let e=0;e<Ne.length;e+=1){const n=Ne[e];tt.has(n)||(tt.add(n),n())}Ne.length=0}while(Ee.length);for(;kt.length;)kt.pop()();at=!1,tt.clear(),Ue(t)}function ts(t){if(t.fragment!==null){t.update(),oe(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}function ns(t){const e=[],n=[];Ne.forEach(s=>t.indexOf(s)===-1?e.push(s):n.push(s)),n.forEach(s=>s()),Ne=e}let Ke;function gt(){return Ke||(Ke=Promise.resolve(),Ke.then(()=>{Ke=null})),Ke}function he(t,e,n){t.dispatchEvent(Hn(`${e?"intro":"outro"}${n}`))}const Ze=new Set;let ue;function Z(){ue={r:0,c:[],p:ue}}function G(){ue.r||oe(ue.c),ue=ue.p}function S(t,e){t&&t.i&&(Ze.delete(t),t.i(e))}function T(t,e,n,s){if(t&&t.o){if(Ze.has(t))return;Ze.add(t),ue.c.push(()=>{Ze.delete(t),s&&(n&&t.d(1),s())}),t.o(e)}else s&&s()}const ht={duration:0};function ss(t,e,n){const s={direction:"in"};let r=e(t,n,s),i=!1,l,c,o=0;function u(){l&&$e(t,l)}function f(){const{delay:_=0,duration:v=300,easing:g=He,tick:m=B,css:p}=r||ht;p&&(l=je(t,0,1,v,_,g,p,o++)),m(0,1);const b=We()+_,I=b+v;c&&c.abort(),i=!0,Y(()=>he(t,!0,"start")),c=Je(k=>{if(i){if(k>=I)return m(1,0),he(t,!0,"end"),u(),i=!1;if(k>=b){const h=g((k-b)/v);m(h,1-h)}}return i})}let a=!1;return{start(){a||(a=!0,$e(t),Be(r)?(r=r(s),gt().then(f)):f())},invalidate(){a=!1},end(){i&&(u(),i=!1)}}}function rs(t,e,n){const s={direction:"out"};let r=e(t,n,s),i=!0,l;const c=ue;c.r+=1;let o;function u(){const{delay:f=0,duration:a=300,easing:_=He,tick:v=B,css:g}=r||ht;g&&(l=je(t,1,0,a,f,_,g));const m=We()+f,p=m+a;Y(()=>he(t,!1,"start")),"inert"in t&&(o=t.inert,t.inert=!0),Je(b=>{if(i){if(b>=p)return v(0,1),he(t,!1,"end"),--c.r||oe(c.c),!1;if(b>=m){const I=_((b-m)/a);v(1-I,I)}}return i})}return Be(r)?gt().then(()=>{r=r(s),u()}):u(),{end(f){f&&"inert"in t&&(t.inert=o),f&&r.tick&&r.tick(1,0),i&&(l&&$e(t,l),i=!1)}}}function P(t,e,n,s){let i=e(t,n,{direction:"both"}),l=s?0:1,c=null,o=null,u=null,f;function a(){u&&$e(t,u)}function _(g,m){const p=g.b-l;return m*=Math.abs(p),{a:l,b:g.b,d:p,duration:m,start:g.start,end:g.start+m,group:g.group}}function v(g){const{delay:m=0,duration:p=300,easing:b=He,tick:I=B,css:k}=i||ht,h={start:We()+m,b:g};g||(h.group=ue,ue.r+=1),"inert"in t&&(g?f!==void 0&&(t.inert=f):(f=t.inert,t.inert=!0)),c||o?o=h:(k&&(a(),u=je(t,l,g,p,m,b,k)),g&&I(0,1),c=_(h,p),Y(()=>he(t,g,"start")),Je(w=>{if(o&&w>o.start&&(c=_(o,p),o=null,he(t,c.b,"start"),k&&(a(),u=je(t,l,c.b,c.duration,0,b,i.css))),c){if(w>=c.end)I(l=c.b,1-l),he(t,c.b,"end"),o||(c.b?a():--c.group.r||oe(c.group.c)),c=null;else if(w>=c.start){const N=w-c.start;l=c.a+c.d*b(N/c.duration),I(l,1-l)}}return!!(c||o)}))}return{run(g){Be(i)?gt().then(()=>{i=i({direction:g?"in":"out"}),v(g)}):v(g)},end(){a(),c=o=null}}}function Q(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function kn(t,e){const n={},s={},r={$$scope:1};let i=t.length;for(;i--;){const l=t[i],c=e[i];if(c){for(const o in l)o in c||(s[o]=1);for(const o in c)r[o]||(n[o]=c[o],r[o]=1);t[i]=c}else for(const o in l)r[o]=1}for(const l in s)l in n||(n[l]=void 0);return n}function Sn(t){return typeof t=="object"&&t!==null?t:{}}function re(t){t&&t.c()}function x(t,e,n){const{fragment:s,after_update:r}=t.$$;s&&s.m(e,n),Y(()=>{const i=t.$$.on_mount.map(pn).filter(Be);t.$$.on_destroy?t.$$.on_destroy.push(...i):oe(i),t.$$.on_mount=[]}),r.forEach(Y)}function ee(t,e){const n=t.$$;n.fragment!==null&&(ns(n.after_update),oe(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ls(t,e){t.$$.dirty[0]===-1&&(Ee.push(t),es(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ne(t,e,n,s,r,i,l,c=[-1]){const o=Pe;Ue(t);const u=t.$$={fragment:null,ctx:[],props:i,update:B,not_equal:r,bound:yt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:yt(),dirty:c,skip_bound:!1,root:e.target||o.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(a,_,...v)=>{const g=v.length?v[0]:_;return u.ctx&&r(u.ctx[a],u.ctx[a]=g)&&(!u.skip_bound&&u.bound[a]&&u.bound[a](g),f&&ls(t,a)),_}):[],u.update(),f=!0,oe(u.before_update),u.fragment=s?s(u.ctx):!1,e.target){if(e.hydrate){const a=$n(e.target);u.fragment&&u.fragment.l(a),a.forEach(E)}else u.fragment&&u.fragment.c();e.intro&&S(t.$$.fragment),x(t,e.target,e.anchor),vn()}Ue(o)}class se{constructor(){et(this,"$$");et(this,"$$set")}$destroy(){ee(this,1),this.$destroy=B}$on(e,n){if(!Be(n))return B;const s=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return s.push(n),()=>{const r=s.indexOf(n);r!==-1&&s.splice(r,1)}}$set(e){this.$$set&&!Pn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const is="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(is);const ke=[];function Re(t,e=B){let n;const s=new Set;function r(c){if(V(t,c)&&(t=c,n)){const o=!ke.length;for(const u of s)u[1](),ke.push(u,t);if(o){for(let u=0;u<ke.length;u+=2)ke[u][0](ke[u+1]);ke.length=0}}}function i(c){r(c(t))}function l(c,o=B){const u=[c,o];return s.add(u),s.size===1&&(n=e(r,i)||B),c(t),()=>{s.delete(u),s.size===0&&n&&(n(),n=null)}}return{set:r,update:i,subscribe:l}}const bt=Re({fallbackResourceName:"debug",allowEscapeKey:!0}),os=Re(window.GetParentResourceName?window.GetParentResourceName():Me(bt).DEBUG_RESOURCE_NAME),En=Re(!window.invokeNative),St=Re(!1);var J=(t=>(t.visible="ui:visible",t.start="ui:start",t))(J||{}),wt=(t=>(t.close="ui:close",t.finish="ui:finish",t))(wt||{}),ae=(t=>(t.down="keydown",t.up="keyup",t.pressed="keypress",t))(ae||{}),In=(t=>(t.click="click",t.down="mousedown",t.up="mouseup",t.move="mousemove",t))(In||{});const xe=Me(En),cs=Me(os),dt=[];async function us(t,e={}){if(xe==!0){const r=await as(t,e);return Promise.resolve(r)}const n={method:"post",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)};return await(await fetch(`https://${cs}/${t}`,n)).json()}function An(t,e){const n=s=>{const{action:r,data:i}=s.data;r===t&&e(i)};Qe(()=>window.addEventListener("message",n)),Qn(()=>window.removeEventListener("message",n))}async function ce(t,e,n=0){xe&&setTimeout(()=>{const s=new MessageEvent("message",{data:{action:t,data:e}});window.dispatchEvent(s)},n)}async function fs(t,e){if(xe){if(dt[t]!==void 0){console.log(`%c[DEBUG] %c${t} %cevent already has a debug receiver.`,"color: red; font-weight: bold;","color: green","");return}dt[t]=e}}async function as(t,e){if(!xe)return;const n=dt[t];return n===void 0?(console.log(`[DEBUG] ${t} event does not have a debugger.`),{}):await n(e)}const ds=()=>{const t=Re({active:!1});return{...t,...{start:n=>{let{type:s,iterations:r,config:i}=n;r=r||1,t.update(l=>({active:!0,type:s,iterations:r,config:i}))},finish:(n=!1)=>{t.update(s=>(us(wt.finish,n),{active:!1}))}}}},K=ds(),_s=[{action:J.visible,handler:t=>{}},{action:J.start,handler:t=>{K.start(t)}}];function ms(){for(const t of _s)An(t.action,t.handler)}function Et(t){let e,n;const s=t[2].default,r=zn(s,t,t[1],null);return{c(){e=M("main"),r&&r.c(),d(e,"class","svelte-1w09ye1")},m(i,l){L(i,e,l),r&&r.m(e,null),n=!0},p(i,l){r&&r.p&&(!n||l&2)&&Yn(r,s,i,i[1],n?Bn(s,i[1],l,null):Zn(i[1]),null)},i(i){n||(S(r,i),n=!0)},o(i){T(r,i),n=!1},d(i){i&&E(e),r&&r.d(i)}}}function ps(t){let e,n,s=t[0]&&Et(t);return{c(){s&&s.c(),e=$()},m(r,i){s&&s.m(r,i),L(r,e,i),n=!0},p(r,[i]){r[0]?s?(s.p(r,i),i&1&&S(s,1)):(s=Et(r),s.c(),S(s,1),s.m(e.parentNode,e)):s&&(Z(),T(s,1,1,()=>{s=null}),G())},i(r){n||(S(s),n=!0)},o(r){T(s),n=!1},d(r){r&&E(e),s&&s.d(r)}}}function gs(t,e,n){let s,r,i;W(t,K,o=>n(3,s=o)),W(t,St,o=>n(0,r=o)),W(t,bt,o=>n(4,i=o));let{$$slots:l={},$$scope:c}=e;return An(J.visible,o=>{Gn(St,r=o,r)}),Qe(()=>{if(!i.allowEscapeKey)return;const o=u=>{r&&["Escape"].includes(u.code)&&s.active&&K.finish(!1)};return window.addEventListener("keydown",o),()=>window.removeEventListener("keydown",o)}),t.$$set=o=>{"$$scope"in o&&n(1,c=o.$$scope)},[r,c,l]}class hs extends se{constructor(e){super(),ne(this,e,gs,ps,V,{})}}function _t(t){ce(J.visible,t)}const bs=[{label:"Visible",action:()=>_t(!0),delay:500}];function ws(){for(const t of bs)setTimeout(()=>{t.action()},t.delay||0)}const ys=[{action:wt.close,handler:()=>{}}];function vs(){for(const t of ys)fs(t.action,t.handler)}var q=(t=>(t.CircleProgress="CircleProgress",t.Progress="Progress",t.KeyCircle="KeyCircle",t.KeySpam="KeySpam",t.NumberSlide="NumberSlide",t.RapidLines="RapidLines",t.CircleShake="CircleShake",t))(q||{});const Ye=[{label:"Visibility",actions:[{label:"True",action:()=>_t(!0)},{label:"False",action:()=>_t(!1)}]},{label:"CircleProgress",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t};ce(J.start,{type:q.CircleProgress,iterations:10,config:e})},value:50,type:"slider"}]},{label:"Progress",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t};ce(J.start,{type:q.Progress,iterations:10,config:e})},value:50,type:"slider"}]},{label:"KeyCircle",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t,numberOfKeys:2};ce(J.start,{type:q.KeyCircle,iterations:1,config:e})},value:50,type:"slider"}]},{label:"KeySpam",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t};ce(J.start,{type:q.KeySpam,iterations:1,config:e})},value:50,type:"slider"}]},{label:"NumberSlide",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t,numberOfKeys:10};ce(J.start,{type:q.NumberSlide,iterations:1,config:e})},value:50,type:"slider"}]},{label:"RapidLines",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t,numberOfKeys:10};ce(J.start,{type:q.RapidLines,iterations:1,config:e})},value:50,type:"slider"}]},{label:"CircleShake",actions:[{label:"Custom Difficulty",action:t=>{const e={difficulty:t,numberOfKeys:10};ce(J.start,{type:q.CircleShake,iterations:1,config:e})},value:50,type:"slider"}]}],ks=""+new URL("debug_image.png",import.meta.url).href;function It(t,e,n){const s=t.slice();return s[12]=e[n].label,s[13]=e[n].actions,s}function At(t,e,n){const s=t.slice();return s[16]=e[n],s[17]=e,s[18]=n,s}function Lt(t){let e,n=Q(t[0]),s=[];for(let r=0;r<n.length;r+=1)s[r]=Ct(It(t,n,r));return{c(){e=M("ol");for(let r=0;r<s.length;r+=1)s[r].c();d(e,"class","flex flex-col gap-2 bg-primary z-[9999999] max-w-[25vw] h-[80vh] overflow-y-auto px-[0.5vw] py-[0.5vw]")},m(r,i){L(r,e,i);for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(e,null)},p(r,i){if(i&1){n=Q(r[0]);let l;for(l=0;l<n.length;l+=1){const c=It(r,n,l);s[l]?s[l].p(c,i):(s[l]=Ct(c),s[l].c(),s[l].m(e,null))}for(;l<s.length;l+=1)s[l].d(1);s.length=n.length}},d(r){r&&E(e),be(s,r)}}}function Ss(t){let e,n=t[16].label+"",s,r,i;function l(){return t[11](t[16])}return{c(){e=M("button"),s=te(n),d(e,"class","w-full px-[0.5vw] py-[0.25vw] bg-accent")},m(c,o){L(c,e,o),A(e,s),r||(i=ie(e,"click",l),r=!0)},p(c,o){t=c,o&1&&n!==(n=t[16].label+"")&&fe(s,n)},d(c){c&&E(e),r=!1,i()}}}function Es(t){let e,n,s=t[16].label+"",r,i,l,c,o,u,f,a,_,v;function g(){t[9].call(l,t[17],t[18])}function m(){return t[10](t[16])}return{c(){e=M("span"),n=M("p"),r=te(s),i=F(),l=M("input"),f=F(),a=M("button"),a.textContent="Action",d(l,"type","range"),d(l,"class","w-full"),d(l,"min",c=t[16].min||0),d(l,"max",o=t[16].max||100),d(l,"step",u=t[16].step||1),d(a,"class","px-[0.5vw] py-[0.25vw] w-[5vw] bg-accent border-primary border-2"),d(e,"class","w-full px-[0.5vw] py-[0.25vw] flex flex-col gap-[0.2vw] bg-accent items-start")},m(p,b){L(p,e,b),A(e,n),A(n,r),A(e,i),A(e,l),Ge(l,t[16].value),A(e,f),A(e,a),_||(v=[ie(l,"change",g),ie(l,"input",g),ie(a,"click",m)],_=!0)},p(p,b){t=p,b&1&&s!==(s=t[16].label+"")&&fe(r,s),b&1&&c!==(c=t[16].min||0)&&d(l,"min",c),b&1&&o!==(o=t[16].max||100)&&d(l,"max",o),b&1&&u!==(u=t[16].step||1)&&d(l,"step",u),b&1&&Ge(l,t[16].value)},d(p){p&&E(e),_=!1,oe(v)}}}function Is(t){let e,n,s=t[16].label+"",r,i,l,c,o;function u(){t[7].call(l,t[17],t[18])}function f(...a){return t[8](t[16],...a)}return{c(){e=M("span"),n=M("p"),r=te(s),i=F(),l=M("input"),d(l,"type","checkbox"),d(l,"class","h-full aspect-square"),d(e,"class","w-full px-[0.5vw] py-[0.25vw] flex flex-row gap-[0.2vw] bg-accent items-center")},m(a,_){L(a,e,_),A(e,n),A(n,r),A(e,i),A(e,l),l.checked=t[16].value,c||(o=[ie(l,"change",u),ie(l,"input",f)],c=!0)},p(a,_){t=a,_&1&&s!==(s=t[16].label+"")&&fe(r,s),_&1&&(l.checked=t[16].value)},d(a){a&&E(e),c=!1,oe(o)}}}function As(t){let e,n,s=t[16].label+"",r,i,l,c,o,u,f;function a(){t[5].call(l,t[17],t[18])}function _(){return t[6](t[16])}return{c(){e=M("span"),n=M("p"),r=te(s),i=F(),l=M("input"),c=F(),o=M("button"),o.textContent="Apply",d(n,"class",""),d(l,"type","text"),d(l,"class","h-full w-full text-[color:var(--text-secondary)] px-[0.25vw]"),d(o,"class","px-[0.5vw] py-[0.25vw] w-[5vw] bg-primary"),d(e,"class","w-full px-[0.5vw] py-[0.25vw] flex flex-col gap-[0.2vw] bg-accent items-start")},m(v,g){L(v,e,g),A(e,n),A(n,r),A(e,i),A(e,l),Ge(l,t[16].value),A(e,c),A(e,o),u||(f=[ie(l,"input",a),ie(o,"click",_)],u=!0)},p(v,g){t=v,g&1&&s!==(s=t[16].label+"")&&fe(r,s),g&1&&l.value!==t[16].value&&Ge(l,t[16].value)},d(v){v&&E(e),u=!1,oe(f)}}}function Nt(t){let e;function n(i,l){return i[16].type==="text"?As:i[16].type==="checkbox"?Is:i[16].type==="slider"?Es:Ss}let s=n(t),r=s(t);return{c(){e=M("div"),r.c(),d(e,"class","flex flex-row flex-wrap gap-[0.5vw]")},m(i,l){L(i,e,l),r.m(e,null)},p(i,l){s===(s=n(i))&&r?r.p(i,l):(r.d(1),r=s(i),r&&(r.c(),r.m(e,null)))},d(i){i&&E(e),r.d()}}}function Ct(t){let e,n,s=t[12]+"",r,i,l,c=Q(t[13]),o=[];for(let u=0;u<c.length;u+=1)o[u]=Nt(At(t,c,u));return{c(){e=M("li"),n=M("span"),r=te(s),i=F();for(let u=0;u<o.length;u+=1)o[u].c();l=F(),d(n,"class","w-full text-black"),d(e,"class","flex flex-col gap-1 border-l-[2px] border-[color:var(--accent)] px-[0.25vw]")},m(u,f){L(u,e,f),A(e,n),A(n,r),A(e,i);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null);A(e,l)},p(u,f){if(f&1&&s!==(s=u[12]+"")&&fe(r,s),f&1){c=Q(u[13]);let a;for(a=0;a<c.length;a+=1){const _=At(u,c,a);o[a]?o[a].p(_,f):(o[a]=Nt(_),o[a].c(),o[a].m(e,l))}for(;a<o.length;a+=1)o[a].d(1);o.length=c.length}},d(u){u&&E(e),be(o,u)}}}function Ls(t){let e,n,s,r,i,l,c,o=t[1]&&Lt(t);return{c(){e=M("div"),n=M("button"),n.textContent="Debug",s=F(),o&&o.c(),r=F(),i=M("div"),d(n,"class","px-[1vw] py-[0.5vw] w-fit h-fit z-[9999999] bg-accent"),D(i,"background-image","url("+ks+")"),d(i,"class","absolute w-screen bg-cover bg-no-repeat bg-center h-screen top-0 left-0 dev-image"),d(e,"class","w-fit h-fit flex flex-col z-[9999999]")},m(u,f){L(u,e,f),A(e,n),A(e,s),o&&o.m(e,null),A(e,r),A(e,i),l||(c=[ie(window,"keydown",t[2]),ie(window,"keyup",t[3]),ie(n,"click",t[4])],l=!0)},p(u,[f]){u[1]?o?o.p(u,f):(o=Lt(u),o.c(),o.m(e,r)):o&&(o.d(1),o=null)},i:B,o:B,d(u){u&&E(e),o&&o.d(),l=!1,oe(c)}}}function Ns(t,e,n){Qe(()=>{ws(),vs()});function s(g){ce(J.keydown,g)}function r(g){ce(J.keyup,g)}let i=!1;const l=()=>n(1,i=!i);function c(g,m){g[m].value=this.value,n(0,Ye)}const o=g=>{g.action(g.value)};function u(g,m){g[m].value=this.checked,n(0,Ye)}const f=(g,m)=>{g.action(g.value)};function a(g,m){g[m].value=jn(this.value),n(0,Ye)}return[Ye,i,s,r,l,c,o,u,f,a,g=>{g.action(g.value)},g=>{g.action()}]}class Cs extends se{constructor(e){super(),ne(this,e,Ns,Ls,V,{})}}async function we(t){return new Promise(e=>setTimeout(e,t))}function Ts(t,e,n,s){const r=s-e,i=n-t;return Math.atan2(r,i)*180/Math.PI}function Se(t){return t>180?t-360:t}function Tt(t){return Object.prototype.toString.call(t)==="[object Date]"}function Ms(t){const e=t-1;return e*e*e+1}function mt(t,e){if(t===e||t!==t)return()=>t;const n=typeof t;if(n!==typeof e||Array.isArray(t)!==Array.isArray(e))throw new Error("Cannot interpolate values of different type");if(Array.isArray(t)){const s=e.map((r,i)=>mt(t[i],r));return r=>s.map(i=>i(r))}if(n==="object"){if(!t||!e)throw new Error("Object cannot be null");if(Tt(t)&&Tt(e)){t=t.getTime(),e=e.getTime();const i=e-t;return l=>new Date(t+l*i)}const s=Object.keys(e),r={};return s.forEach(i=>{r[i]=mt(t[i],e[i])}),i=>{const l={};return s.forEach(c=>{l[c]=r[c](i)}),l}}if(n==="number"){const s=e-t;return r=>t+r*s}throw new Error(`Cannot interpolate ${n} values`)}function De(t,e={}){const n=Re(t);let s,r=t;function i(l,c){if(t==null)return n.set(t=l),Promise.resolve();r=l;let o=s,u=!1,{delay:f=0,duration:a=400,easing:_=He,interpolate:v=mt}=Oe(Oe({},e),c);if(a===0)return o&&(o.abort(),o=null),n.set(t=r),Promise.resolve();const g=We()+f;let m;return s=Je(p=>{if(p<g)return!0;u||(m=v(t,l),typeof a=="function"&&(a=a(t,l)),u=!0),o&&(o.abort(),o=null);const b=p-g;return b>a?(n.set(t=l),!1):(n.set(t=m(_(b/a))),!0)}),s.promise}return{set:i,update:(l,c)=>i(l(r,t),c),subscribe:n.subscribe}}function O(t,{delay:e=0,duration:n=400,easing:s=Ms,start:r=0,opacity:i=0}={}){const l=getComputedStyle(t),c=+l.opacity,o=l.transform==="none"?"":l.transform,u=1-r,f=c*(1-i);return{delay:e,duration:n,easing:s,css:(a,_)=>`
			transform: ${o} scale(${1-u*_});
			opacity: ${c-f*_}
		`}}const Ce={DURATION:{MIN:500,MAX:3e3},SIZE:{MIN:2,MAX:40},FALLBACK_DIFFICULTY:50},nt={DURATION:{MIN:250,MAX:1500},FALLBACK_NUM_KEYS:3,FALLBACK_DIFFICULTY:50},Mt={DURATION:{MIN:750,MAX:5e3},FALLBACK_DIFFICULTY:50},ge={DURATION:{MIN:500,MAX:7500},ZONE_SIZE:15,FALLBACK_NUM_KEYS:3,FALLBACK_DIFFICULTY:50},Ie={DURATION:{MIN:700,MAX:3e3},ZONE:{MIN:10,MAX:40},ZONE_FROM_RIGHT:95,FALLBACK_DIFFICULTY:50,FALLBACK_NUM_LINES:3},st={DURATION:{MIN:1e3,MAX:1e4},SIZE:{MIN:2,MAX:15},FALLBACK_DIFFICULTY:50,FALLBACK_NUM_KEYS:3},ye={Primary:"E",Secondary:"Q",Space:" ",Numbers:["1","2","3","4"],PrimarySet:["W","A","S","D"],SecondarySet:["I","J","K","L"]};function le(t){const e=ye[t];return e[Math.floor(Math.random()*e.length)]}function de(t,e){function n(){window.removeEventListener(t,e)}return window.addEventListener(t,e),{removeListener:n}}function rt(t){const e=t.slice(),n=e[1].target;return e[17]=n.size,e[18]=n.rotation,e}function Rt(t){let e,n,s=t[1].target,r,i,l,c,o=Dt(t),u=t[1]&&Kt(rt(t));return{c(){e=M("div"),n=M("div"),o.c(),r=F(),i=j("svg"),u&&u.c(),d(n,"style",t[7]),d(n,"class","absolute secondary-shadow grid place-items-center bg-primary-50 rounded-full"),d(i,"style",t[6]),d(i,"version","1.1"),d(i,"class","z-0 absolute overflow-visible"),d(i,"xmlns","http://www.w3.org/2000/svg"),d(e,"style",t[6]),d(e,"class","grid place-items-center primary-shadow default-game-position rounded-full")},m(f,a){L(f,e,a),A(e,n),o.m(n,null),A(e,r),A(e,i),u&&u.m(i,null),c=!0},p(f,a){a&2&&V(s,s=f[1].target)?(Z(),T(o,1,1,B),G(),o=Dt(f),o.c(),S(o,1),o.m(n,null)):o.p(f,a),f[1]?u?u.p(rt(f),a):(u=Kt(rt(f)),u.c(),u.m(i,null)):u&&(u.d(1),u=null)},i(f){c||(S(o),f&&Y(()=>{c&&(l||(l=P(e,O,{},!0)),l.run(1))}),c=!0)},o(f){T(o),f&&(l||(l=P(e,O,{},!1)),l.run(0)),c=!1},d(f){f&&E(e),o.d(f),u&&u.d(),f&&l&&l.end()}}}function Dt(t){let e,n=t[1].key+"",s,r,i;return{c(){e=M("p"),s=te(n),d(e,"class","text-shadow absolute font-bold text-[2vw]")},m(l,c){L(l,e,c),A(e,s),i=!0},p(l,c){(!i||c&2)&&n!==(n=l[1].key+"")&&fe(s,n)},i(l){i||(l&&Y(()=>{i&&(r||(r=P(e,O,{duration:100},!0)),r.run(1))}),i=!0)},o(l){l&&(r||(r=P(e,O,{duration:100},!1)),r.run(0)),i=!1},d(l){l&&E(e),l&&r&&r.end()}}}function Kt(t){let e,n,s,r,i;return{c(){e=j("circle"),n=j("circle"),r=j("circle"),D(e,"stroke-width",Ae*.1+"vw"),d(e,"class","absolute fill-none stroke-primary-50"),d(e,"cx","50%"),d(e,"cy","50%"),d(e,"r",Ae*.95+"vw"),D(n,"transform","rotate("+(-90+t[18])+"deg)"),d(n,"class","absolute radial stroke-primary origin-center target-segment svelte-1s27jpb"),d(n,"stroke-dasharray",t[5]+"vw"),d(n,"stroke-dashoffset",s=t[5]*((100-t[17])/100)+"vw"),d(n,"stroke-width",Ut+"vw"),d(n,"fill-opacity","0"),d(n,"cx","50%"),d(n,"cy","50%"),d(n,"r",Ae*.9+"vw"),D(r,"transform","rotate("+(-90+t[3]/100*360)+"deg)"),d(r,"class",i="absolute origin-center default-colour-transition "+(t[2]==="success"?"glow-success stroke-success":t[2]==="fail"?"glow-fail stroke-fail":"stroke-accent glow-accent")),d(r,"stroke-dasharray",t[5]+"vw"),d(r,"stroke-dashoffset",t[5]*((100-Ln)/100)+"vw"),d(r,"stroke-width",Ut+"vw"),d(r,"fill-opacity","0"),d(r,"cx","50%"),d(r,"cy","50%"),d(r,"r",Ae*.9+"vw")},m(l,c){L(l,e,c),L(l,n,c),L(l,r,c)},p(l,c){c&2&&D(n,"transform","rotate("+(-90+l[18])+"deg)"),c&2&&s!==(s=l[5]*((100-l[17])/100)+"vw")&&d(n,"stroke-dashoffset",s),c&8&&D(r,"transform","rotate("+(-90+l[3]/100*360)+"deg)"),c&4&&i!==(i="absolute origin-center default-colour-transition "+(l[2]==="success"?"glow-success stroke-success":l[2]==="fail"?"glow-fail stroke-fail":"stroke-accent glow-accent"))&&d(r,"class",i)},d(l){l&&(E(e),E(n),E(r))}}}function Rs(t){let e,n=t[0]&&Rt(t);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),L(s,e,r)},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&S(n,1)):(n=Rt(s),n.c(),S(n,1),n.m(e.parentNode,e)):n&&(Z(),T(n,1,1,()=>{n=null}),G())},i(s){S(n)},o(s){T(n)},d(s){s&&E(e),n&&n.d(s)}}}const Ln=2,Ut=1,Ae=4;function Ds(t,e,n){let s,r;W(t,K,h=>n(9,s=h));const i=De(0);W(t,i,h=>n(3,r=h));const l=Ae*2,c=2*Math.PI*Ae,o=`
        width: ${l}vw;
        height: ${l}vw;
    `,u=`
        width: ${l/2}vw;
        height: ${l/2}vw;
    `;let f=!1,a=null,_=null,v;K.subscribe(h=>{let w=h.active&&h.type===q.CircleProgress&&!a;w?(n(0,f=!0),b()):f&&!w&&(n(0,f=!1),n(1,a=null),n(2,_=null),g())});function g(){v==null||v.removeListener(),v=null}async function m(){if(!f)return;const h=a.duration;return i.set(100,{duration:h}),new Promise((w,N)=>{let y=setTimeout(()=>{w(!1)},h);v=de(ae.pressed,C=>{const R=C.key.toUpperCase();if(ye.Numbers.includes(R))if(clearTimeout(y),i.set(r,{duration:0}),R===a.key){const U=r/100*360,X=a.target.rotation,H=a.target.size*3.6,z=Ln*3.6;if(U>X-z&&U<H+X)w(!0);else{w(!1);return}}else w(!1)})})}async function p(h,w){if(!f)return;g(),i.set(0,{duration:0});let{difficulty:N}=w;N=(N||Ce.FALLBACK_DIFFICULTY)>=100?99:N<=0?5:N,n(1,a={target:k(N),duration:I(N),key:le("Numbers")}),n(2,_=null),await we(500);const y=await m();n(2,_=y?"success":"fail"),setTimeout(()=>{if(f)if(y&&h>0)if(h--,h>0)p(h,w);else{K.finish(!0),n(1,a=null);return}else{K.finish(!1),n(1,a=null);return}},500)}function b(){if(!s.active||a)return;const{iterations:h,config:w}=s;p(h,w)}function I(h){const{MIN:w,MAX:N}=Ce.DURATION;let y=w+(N-w)*((100-h)/100);const C=y*.2,R=Math.random()*C;return y+=R,y}function k(h){h=h>=100?99:h<=0?5:h;const{MAX:w}=Ce.SIZE,N=w-h/100*w;let y=90+Math.random()*120;return N*3.6+y>360&&(y-=N*3.6+y-360),{size:N,rotation:y}}return[f,a,_,r,i,c,o,u]}class Ks extends se{constructor(e){super(),ne(this,e,Ds,Rs,V,{})}}function lt(t){const e=t.slice(),n=e[1].target;return e[13]=n.size,e[14]=n.progress,e}function Ft(t){let e,n,s=t[1].target,r,i,l,c,o,u,f=Ot(t),a=t[1]&&Pt(lt(t));return{c(){e=M("div"),n=M("div"),f.c(),r=F(),i=M("div"),c=F(),a&&a.c(),d(n,"class","h-[2.5vw] aspect-square absolute grid place-items-center center-y secondary-shadow bg-primary-50 -translate-x-[130%]"),D(i,"left",t[3]+"%"),D(i,"width",Nn+"vw"),d(i,"class",l="h-[1vw] center-y z-[10] absolute origin-center default-colour-transition "+(t[2]==="success"?"glow-success bg-success":t[2]==="fail"?"glow-fail bg-fail":"bg-accent glow-accent")),d(e,"class","primary-shadow default-game-position w-[20vw] h-[0.5vw] bg-primary-25")},m(_,v){L(_,e,v),A(e,n),f.m(n,null),A(e,r),A(e,i),A(e,c),a&&a.m(e,null),u=!0},p(_,v){v&2&&V(s,s=_[1].target)?(Z(),T(f,1,1,B),G(),f=Ot(_),f.c(),S(f,1),f.m(n,null)):f.p(_,v),(!u||v&8)&&D(i,"left",_[3]+"%"),(!u||v&4&&l!==(l="h-[1vw] center-y z-[10] absolute origin-center default-colour-transition "+(_[2]==="success"?"glow-success bg-success":_[2]==="fail"?"glow-fail bg-fail":"bg-accent glow-accent")))&&d(i,"class",l),_[1]?a?a.p(lt(_),v):(a=Pt(lt(_)),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},i(_){u||(S(f),_&&Y(()=>{u&&(o||(o=P(e,O,{},!0)),o.run(1))}),u=!0)},o(_){T(f),_&&(o||(o=P(e,O,{},!1)),o.run(0)),u=!1},d(_){_&&E(e),f.d(_),a&&a.d(),_&&o&&o.end()}}}function Ot(t){let e,n=t[1].key+"",s,r,i;return{c(){e=M("p"),s=te(n),d(e,"class","text-shadow absolute font-bold text-[2vw]")},m(l,c){L(l,e,c),A(e,s),i=!0},p(l,c){(!i||c&2)&&n!==(n=l[1].key+"")&&fe(s,n)},i(l){i||(l&&Y(()=>{i&&(r||(r=P(e,O,{duration:100},!0)),r.run(1))}),i=!0)},o(l){l&&(r||(r=P(e,O,{duration:100},!1)),r.run(0)),i=!1},d(l){l&&E(e),l&&r&&r.end()}}}function Pt(t){let e;return{c(){e=M("div"),D(e,"left",t[14]+"%"),D(e,"width",t[13]+"%"),d(e,"class","h-[1vw] center-y absolute origin-center bg-primary z-0 target-segment svelte-1s27jpb")},m(n,s){L(n,e,s)},p(n,s){s&2&&D(e,"left",n[14]+"%"),s&2&&D(e,"width",n[13]+"%")},d(n){n&&E(e)}}}function Us(t){let e,n=t[0]&&Ft(t);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),L(s,e,r)},p(s,[r]){s[0]?n?(n.p(s,r),r&1&&S(n,1)):(n=Ft(s),n.c(),S(n,1),n.m(e.parentNode,e)):n&&(Z(),T(n,1,1,()=>{n=null}),G())},i(s){S(n)},o(s){T(n)},d(s){s&&E(e),n&&n.d(s)}}}const Nn=.5;function Fs(t,e,n){let s,r;W(t,K,p=>n(6,s=p));const i=De(0);W(t,i,p=>n(3,r=p));let l=!1,c=null,o=null,u;K.subscribe(p=>{let b=p.active&&p.type===q.Progress&&!c;b?(n(0,l=!0),v()):l&&!b&&(n(0,l=!1),n(1,c=null),f())});function f(){u==null||u.removeListener(),u=null}async function a(){if(!l)return;const p=c.duration;return i.set(100,{duration:p}),new Promise((b,I)=>{let k=setTimeout(()=>{b(!1)},p);u=de(ae.pressed,h=>{const w=h.key.toUpperCase();if(ye.Numbers.includes(w))if(clearTimeout(k),i.set(r,{duration:0}),w===c.key){const N=c.target.progress,y=c.target.size,C=r;if(C>N-Nn&&C<y+N)b(!0);else{b(!1);return}}else b(!1)})})}async function _(p,b){if(!l)return;f(),i.set(0,{duration:0});let{difficulty:I}=b;I=(I||Ce.FALLBACK_DIFFICULTY)>=100?99:I<=0?5:I,n(1,c={target:m(I),duration:g(I),key:le("Numbers")}),await we(500);const k=await a();n(2,o=k?"success":"fail"),setTimeout(()=>{if(l)if(n(2,o=null),k&&p>0)if(p--,p>0)_(p,b);else{K.finish(!0),n(1,c=null);return}else{K.finish(!1),n(1,c=null);return}},500)}function v(){if(!s.active||c)return;const{iterations:p,config:b}=s;_(p,b)}function g(p){const{MIN:b,MAX:I}=Ce.DURATION;let k=b+(I-b)*((100-p)/100);const h=k*.2,w=Math.random()*h;return k+=w,k}function m(p){p=p>=100?99:p<=0?5:p;const{MAX:b}=Ce.SIZE,I=b-p/100*b,k=30,h=100-I,w=Math.random()*(h-k)+k;return{size:I,progress:w}}return[l,c,o,r,i]}class Os extends se{constructor(e){super(),ne(this,e,Fs,Us,V,{})}}function zt(t,e,n){const s=t.slice();return s[19]=e[n],s[21]=n,s}function it(t){const e=t.slice(),n=e[1];return e[17]=n.stages,e[18]=n.currentStage,e}function ot(t){const e=t.slice(),n=e[1];return e[17]=n.stages,e}function Bt(t,e,n){const s=t.slice();return s[22]=e[n],s}function Yt(t){let e,n,s,r,i,l,c,o=t[1]&&Zt(t),u=t[1]&&Xt(ot(t)),f=t[1]&&jt(it(t));return{c(){e=M("div"),o&&o.c(),n=F(),s=j("svg"),r=j("circle"),u&&u.c(),i=F(),f&&f.c(),D(r,"stroke-width",ze*.1+"vw"),d(r,"class","absolute fill-none stroke-primary-50"),d(r,"cx","50%"),d(r,"cy","50%"),d(r,"r",ze*.95+"vw"),d(s,"style",t[6]),d(s,"version","1.1"),d(s,"class","z-0 absolute overflow-visible -rotate-90"),d(s,"xmlns","http://www.w3.org/2000/svg"),d(e,"style",t[6]),d(e,"class","grid place-items-center primary-shadow default-game-position rounded-full w-fit h-fit")},m(a,_){L(a,e,_),o&&o.m(e,null),A(e,n),A(e,s),A(s,r),u&&u.m(s,null),A(e,i),f&&f.m(e,null),c=!0},p(a,_){a[1]?o?(o.p(a,_),_&2&&S(o,1)):(o=Zt(a),o.c(),S(o,1),o.m(e,n)):o&&(Z(),T(o,1,1,()=>{o=null}),G()),a[1]?u?u.p(ot(a),_):(u=Xt(ot(a)),u.c(),u.m(s,null)):u&&(u.d(1),u=null),a[1]?f?f.p(it(a),_):(f=jt(it(a)),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i(a){c||(S(o),a&&Y(()=>{c&&(l||(l=P(e,O,{},!0)),l.run(1))}),c=!0)},o(a){T(o),a&&(l||(l=P(e,O,{},!1)),l.run(0)),c=!1},d(a){a&&E(e),o&&o.d(),u&&u.d(),f&&f.d(),a&&l&&l.end()}}}function Zt(t){let e=t[1].keys,n,s,r=Vt(t);return{c(){r.c(),n=$()},m(i,l){r.m(i,l),L(i,n,l),s=!0},p(i,l){l&2&&V(e,e=i[1].keys)?(Z(),T(r,1,1,B),G(),r=Vt(i),r.c(),S(r,1),r.m(n.parentNode,n)):r.p(i,l)},i(i){s||(S(r),s=!0)},o(i){T(r),s=!1},d(i){i&&E(n),r.d(i)}}}function Gt(t){let e,n,s=t[22]+"",r,i,l,c;return{c(){e=M("div"),n=M("p"),r=te(s),l=F(),d(n,"class","text-shadow absolute font-bold text-[2vw]"),d(e,"style",t[7]),d(e,"class","grid place-items-center secondary-shadow bg-primary-50")},m(o,u){L(o,e,u),A(e,n),A(n,r),A(e,l),c=!0},p(o,u){(!c||u&2)&&s!==(s=o[22]+"")&&fe(r,s)},i(o){c||(o&&Y(()=>{c&&(i||(i=P(n,O,{duration:100},!0)),i.run(1))}),c=!0)},o(o){o&&(i||(i=P(n,O,{duration:100},!1)),i.run(0)),c=!1},d(o){o&&E(e),o&&i&&i.end()}}}function Vt(t){var c;let e,n,s,r=Q((c=t[1])==null?void 0:c.keys),i=[];for(let o=0;o<r.length;o+=1)i[o]=Gt(Bt(t,r,o));const l=o=>T(i[o],1,1,()=>{i[o]=null});return{c(){e=M("div");for(let o=0;o<i.length;o+=1)i[o].c();d(e,"class","flex flex-row items-center justify-center absolute")},m(o,u){L(o,e,u);for(let f=0;f<i.length;f+=1)i[f]&&i[f].m(e,null);s=!0},p(o,u){var f;if(u&130){r=Q((f=o[1])==null?void 0:f.keys);let a;for(a=0;a<r.length;a+=1){const _=Bt(o,r,a);i[a]?(i[a].p(_,u),S(i[a],1)):(i[a]=Gt(_),i[a].c(),S(i[a],1),i[a].m(e,null))}for(Z(),a=r.length;a<i.length;a+=1)l(a);G()}},i(o){if(!s){for(let u=0;u<r.length;u+=1)S(i[u]);o&&Y(()=>{s&&(n||(n=P(e,O,{},!0)),n.run(1))}),s=!0}},o(o){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)T(i[u]);o&&(n||(n=P(e,O,{},!1)),n.run(0)),s=!1},d(o){o&&E(e),be(i,o),o&&n&&n.end()}}}function Xt(t){let e,n;return{c(){e=j("circle"),D(e,"transform","rotate("+(1/t[17]*360-90)+"deg)"),d(e,"class","absolute stroke-primary origin-center"),d(e,"stroke-dasharray",t[5]+"vw"),d(e,"stroke-dashoffset",n=t[5]*((100-t[3])/100)+"vw"),d(e,"stroke-width",zs+"vw"),d(e,"fill-opacity","0"),d(e,"cx","50%"),d(e,"cy","50%"),d(e,"r",ze*.95+"vw")},m(s,r){L(s,e,r)},p(s,r){r&2&&D(e,"transform","rotate("+(1/s[17]*360-90)+"deg)"),r&8&&n!==(n=s[5]*((100-s[3])/100)+"vw")&&d(e,"stroke-dashoffset",n)},d(s){s&&E(e)}}}function jt(t){let e,n=Q({length:t[17]}),s=[];for(let r=0;r<n.length;r+=1)s[r]=$t(zt(t,n,r));return{c(){for(let r=0;r<s.length;r+=1)s[r].c();e=$()},m(r,i){for(let l=0;l<s.length;l+=1)s[l]&&s[l].m(r,i);L(r,e,i)},p(r,i){if(i&70){n=Q({length:r[17]});let l;for(l=0;l<n.length;l+=1){const c=zt(r,n,l);s[l]?s[l].p(c,i):(s[l]=$t(c),s[l].c(),s[l].m(e.parentNode,e))}for(;l<s.length;l+=1)s[l].d(1);s.length=n.length}},d(r){r&&E(e),be(s,r)}}}function $t(t){let e,n,s,r,i;return{c(){e=M("div"),n=M("div"),r=F(),d(n,"class",s="absolute w-[0.5vw] h-[1vw] default-colour-transition -translate-y-1/4 center-x "+(t[2]=="fail"?"bg-fail glow-fail":t[18]===t[21]||t[18]===t[17]&&t[21]===0?"bg-accent glow-accent":t[18]>=t[21]&&t[21]!==0||t[2]==="success"?"bg-success glow-success":"bg-primary primary-shadow")),d(e,"style",i="transform: rotate("+((t[21]+1)/t[17]*360-90)+"deg);"+t[6]),d(e,"class","origin-center absolute")},m(l,c){L(l,e,c),A(e,n),A(e,r)},p(l,c){c&6&&s!==(s="absolute w-[0.5vw] h-[1vw] default-colour-transition -translate-y-1/4 center-x "+(l[2]=="fail"?"bg-fail glow-fail":l[18]===l[21]||l[18]===l[17]&&l[21]===0?"bg-accent glow-accent":l[18]>=l[21]&&l[21]!==0||l[2]==="success"?"bg-success glow-success":"bg-primary primary-shadow"))&&d(n,"class",s),c&2&&i!==(i="transform: rotate("+((l[21]+1)/l[17]*360-90)+"deg);"+l[6])&&d(e,"style",i)},d(l){l&&E(e)}}}function Ps(t){let e,n,s=t[0]&&Yt(t);return{c(){s&&s.c(),e=$()},m(r,i){s&&s.m(r,i),L(r,e,i),n=!0},p(r,[i]){r[0]?s?(s.p(r,i),i&1&&S(s,1)):(s=Yt(r),s.c(),S(s,1),s.m(e.parentNode,e)):s&&(Z(),T(s,1,1,()=>{s=null}),G())},i(r){n||(S(s),n=!0)},o(r){T(s),n=!1},d(r){r&&E(e),s&&s.d(r)}}}const zs=.5,ze=5;function Bs(t,e,n){let s,r;W(t,K,h=>n(10,s=h));const i=De(0);W(t,i,h=>n(3,r=h));let l={};const c=ze*2,o=2*Math.PI*ze,u=`
        width: ${c}vw;
        height: ${c}vw;
    `,f=`
        width: ${c/4}vw;
        height: ${c/4}vw;
    `;let a=!1,_=null,v=null,g={Down:null,Up:null};K.subscribe(h=>{let w=h.active&&h.type===q.KeyCircle&&!_;w?(n(0,a=!0),I()):a&&!w&&(n(0,a=!1),n(1,_=null),n(2,v=null),m())});function m(){var h,w;(h=g.Down)==null||h.removeListener(),(w=g.Up)==null||w.removeListener(),g={Down:null,Up:null},l={}}async function p(){if(!a)return;const h=_.duration,{currentStage:w,stages:N,keys:y}=_,C=Math.floor(w/N*100);return i.set(C,{duration:h}),new Promise((R,U)=>{let X=setTimeout(()=>{R(!1)},h);m(),g.Down=de(ae.down,H=>{if(!a||(l[H.key.toUpperCase()]=!0,v))return;const z=Object.keys(l);if(z.length===2){clearTimeout(X),m();const _e=z.includes(y[0]),me=z.includes(y[1]);if(i.set(C,{duration:0}),_e&&me){if(n(1,_.currentStage++,_),_.currentStage>_.stages){R(!0);return}n(1,_.keys=[le("PrimarySet"),le("SecondarySet")],_),R(p())}else{R(!1);return}}}),g.Up=de(ae.up,H=>{delete l[H.key.toUpperCase()]})})}async function b(h,w){if(!a)return;m(),i.set(0,{duration:0});let{difficulty:N,numberOfKeys:y}=w;N=(N||nt.FALLBACK_DIFFICULTY)>=100?99:N<=0?5:N,y=y||nt.FALLBACK_NUM_KEYS,n(1,_={stages:y,currentStage:1,duration:k(N),keys:[le("PrimarySet"),le("SecondarySet")]}),n(2,v=null),await we(500);const C=await p();n(2,v=C?"success":"fail"),setTimeout(()=>{if(a)if(C&&h>0)if(h--,h>0)b(h,w);else{K.finish(!0),n(1,_=null);return}else{K.finish(!1),n(1,_=null);return}},500)}function I(){if(!s.active||_)return;const{iterations:h,config:w}=s;b(h,w)}function k(h){const{MIN:w,MAX:N}=nt.DURATION;let y=w+(N-w)*((100-h)/100);const C=y*.2,R=Math.random()*C;return y+=R,y}return[a,_,v,r,i,o,u,f]}class Ys extends se{constructor(e){super(),ne(this,e,Bs,Ps,V,{})}}function ct(t){const e=t.slice(),n=e[1];return e[16]=n.size,e}function Ht(t){let e,n,s,r,i,l,c,o=t[1]&&qt(t),u=t[1]&&Jt(ct(t));return{c(){e=M("div"),n=M("div"),o&&o.c(),s=F(),r=j("svg"),i=j("circle"),u&&u.c(),l=j("circle"),d(n,"class","absolute grid place-items-center z-10"),D(i,"stroke-width",Fe*.1+"vw z-0"),d(i,"class","absolute fill-primary-50"),d(i,"cx","50%"),d(i,"cy","50%"),d(i,"r",Fe+"vw"),D(l,"transform","rotate(-90deg)"),d(l,"class","absolute radial stroke-primary origin-center target-segment secondary-shadow"),d(l,"stroke-dasharray",t[5]+"vw"),d(l,"stroke-dashoffset",c=t[5]*(-(100-t[3])/100)+"vw"),d(l,"stroke-width",Gs+"vw"),d(l,"fill-opacity","0"),d(l,"cx","50%"),d(l,"cy","50%"),d(l,"r",Fe*.95+"vw"),d(r,"style",t[6]),d(r,"version","1.1"),d(r,"class","absolute overflow-visible"),d(r,"xmlns","http://www.w3.org/2000/svg"),d(e,"style",t[6]),d(e,"class","grid place-items-center primary-shadow default-game-position rounded-full")},m(f,a){L(f,e,a),A(e,n),o&&o.m(n,null),A(e,s),A(e,r),A(r,i),u&&u.m(r,null),A(r,l)},p(f,a){f[1]?o?o.p(f,a):(o=qt(f),o.c(),o.m(n,null)):o&&(o.d(1),o=null),f[1]?u?u.p(ct(f),a):(u=Jt(ct(f)),u.c(),u.m(r,l)):u&&(u.d(1),u=null),a&8&&c!==(c=f[5]*(-(100-f[3])/100)+"vw")&&d(l,"stroke-dashoffset",c)},d(f){f&&E(e),o&&o.d(),u&&u.d()}}}function qt(t){let e=t[1].key,n,s=Wt(t);return{c(){s.c(),n=$()},m(r,i){s.m(r,i),L(r,n,i)},p(r,i){i&2&&V(e,e=r[1].key)?(Z(),T(s,1,1,B),G(),s=Wt(r),s.c(),S(s,1),s.m(n.parentNode,n)):s.p(r,i)},d(r){r&&E(n),s.d(r)}}}function Wt(t){let e,n=t[1].key+"",s,r,i,l;return{c(){e=M("p"),s=te(n),d(e,"class",r="text-shadow absolute font-bold text-[2vw] "+(!t[2]&&"animate-scale")+" svelte-zhs4mv")},m(c,o){L(c,e,o),A(e,s),l=!0},p(c,o){(!l||o&2)&&n!==(n=c[1].key+"")&&fe(s,n),(!l||o&4&&r!==(r="text-shadow absolute font-bold text-[2vw] "+(!c[2]&&"animate-scale")+" svelte-zhs4mv"))&&d(e,"class",r)},i(c){l||(c&&Y(()=>{l&&(i||(i=P(e,O,{duration:100},!0)),i.run(1))}),l=!0)},o(c){c&&(i||(i=P(e,O,{duration:100},!1)),i.run(0)),l=!1},d(c){c&&E(e),c&&i&&i.end()}}}function Jt(t){let e,n,s;return{c(){e=j("circle"),d(e,"class",n="absolute grid place-items-center default-colour-transition z-10 rounded-full "+(t[2]==="success"?"glow-success fill-success":t[2]==="fail"?"glow-fail fill-fail":"fill-accent glow-accent")),d(e,"cx","50%"),d(e,"cy","50%"),d(e,"r",s=t[16]/2+"%")},m(r,i){L(r,e,i)},p(r,i){i&4&&n!==(n="absolute grid place-items-center default-colour-transition z-10 rounded-full "+(r[2]==="success"?"glow-success fill-success":r[2]==="fail"?"glow-fail fill-fail":"fill-accent glow-accent"))&&d(e,"class",n),i&2&&s!==(s=r[16]/2+"%")&&d(e,"r",s)},d(r){r&&E(e)}}}function Zs(t){let e,n=t[0]&&Ht(t);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),L(s,e,r)},p(s,[r]){s[0]?n?n.p(s,r):(n=Ht(s),n.c(),n.m(e.parentNode,e)):n&&(n.d(1),n=null)},i:B,o:B,d(s){s&&E(e),n&&n.d(s)}}}const Gs=.5,Fe=4;function Vs(t,e,n){let s,r;W(t,K,k=>n(9,s=k));const i=De(0);W(t,i,k=>n(3,r=k));const l=Fe*2,c=2*Math.PI*Fe,o=`
        width: ${l}vw;
        height: ${l}vw;
    `;let u=!1,f=null,a=null,_,v;K.subscribe(k=>{let h=k.active&&k.type===q.KeySpam&&!f;h?(n(0,u=!0),b()):u&&!h&&(n(0,u=!1),n(1,f=null),n(2,a=null),g())});function g(){_==null||_.removeListener(),_=null,v==null||v.removeListener(),v=null}async function m(){if(!u)return;const k=f.duration;return i.set(100,{duration:k}),new Promise((h,w)=>{let N=setInterval(()=>{u&&(n(1,f.size-=.1,f),f.size<=0&&n(1,f.size=0,f))},1),y=setTimeout(()=>{u&&(clearTimeout(y),clearInterval(N),h(!1))},k),C=!1;_=de(ae.pressed,R=>{if(!u||C)return;C=!0;const U=R.key.toUpperCase();if(ye.PrimarySet.includes(U)&&U===f.key){let{size:X}=f;n(1,f.size=X+10,f),f.size>=100&&(n(1,f.size=100,f),clearTimeout(y),clearInterval(N),i.set(r,{duration:0}),h(!0))}}),v=de(ae.up,R=>{u&&(C=!1)})})}async function p(k,h){if(!u)return;g(),i.set(0,{duration:0});let{difficulty:w}=h;w=(w||Mt.FALLBACK_DIFFICULTY)>=100?99:w<=0?5:w,n(1,f={duration:I(w),key:le("PrimarySet"),size:0}),n(2,a=null),await we(500);const N=await m();g(),n(2,a=N?"success":"fail"),setTimeout(()=>{if(u)if(N&&k>0)if(k--,k>0)p(k,h);else{K.finish(!0),n(1,f=null);return}else{K.finish(!1),n(1,f=null);return}},500)}function b(){if(!s.active||f)return;const{iterations:k,config:h}=s;p(k,h)}function I(k){const{MIN:h,MAX:w}=Mt.DURATION;let N=h+(w-h)*((100-k)/100);const y=N*.2,C=Math.random()*y;return N+=C,N}return[u,f,a,r,i,c,o]}class Xs extends se{constructor(e){super(),ne(this,e,Vs,Zs,V,{})}}function Qt(t){let e,n,s=(t[5]<t[6]?t[4]:t[0])+"",r,i,l,c;return{c(){e=M("div"),n=M("p"),r=te(s),d(n,"class",i="absolute font-bold text-[2vw] text-shadow default-colour-transition "+(t[1]==="success"?"text-success glow-success":t[1]==="fail"?"text-fail glow-fail":t[3]?"text-accent":"text-primary")),D(e,"left",t[5]+"%"),d(e,"class","grid place-items-center absolute")},m(o,u){L(o,e,u),A(e,n),A(n,r),c=!0},p(o,u){(!c||u&49)&&s!==(s=(o[5]<o[6]?o[4]:o[0])+"")&&fe(r,s),(!c||u&10&&i!==(i="absolute font-bold text-[2vw] text-shadow default-colour-transition "+(o[1]==="success"?"text-success glow-success":o[1]==="fail"?"text-fail glow-fail":o[3]?"text-accent":"text-primary")))&&d(n,"class",i),(!c||u&32)&&D(e,"left",o[5]+"%")},i(o){c||(o&&Y(()=>{c&&(l||(l=P(e,O,{duration:250},!0)),l.run(1))}),c=!0)},o(o){o&&(l||(l=P(e,O,{duration:250},!1)),l.run(0)),c=!1},d(o){o&&E(e),o&&l&&l.end()}}}function js(t){let e,n=t[5]>0&&t[5]<100&&Qt(t);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),L(s,e,r)},p(s,[r]){s[5]>0&&s[5]<100?n?(n.p(s,r),r&32&&S(n,1)):(n=Qt(s),n.c(),S(n,1),n.m(e.parentNode,e)):n&&(Z(),T(n,1,1,()=>{n=null}),G())},i(s){S(n)},o(s){T(n)},d(s){s&&E(e),n&&n.d(s)}}}function $s(t,e,n){let s,r=B,i=()=>(r(),r=qe(o,g=>n(5,s=g)),o);t.$$.on_destroy.push(()=>r());let{key:l=null}=e,{state:c=null}=e,{left:o=null}=e;i();let{active:u=null}=e,f="1",a=null;function _(){clearInterval(a),a=null}const v=50-ge.ZONE_SIZE*1.5;return Qe(()=>{n(4,f=le("Numbers")),a=setInterval(()=>{(s>v||c)&&_();let g=le("Numbers");for(;g===f;)g=le("Numbers");n(4,f=g)},150)}),t.$$set=g=>{"key"in g&&n(0,l=g.key),"state"in g&&n(1,c=g.state),"left"in g&&i(n(2,o=g.left)),"active"in g&&n(3,u=g.active)},[l,c,o,u,f,s,v]}class Hs extends se{constructor(e){super(),ne(this,e,$s,js,V,{key:0,state:1,left:2,active:3})}}function xt(t,e,n){const s=t.slice();return s[12]=e[n],s[14]=n,s}function en(t){let e,n,s,r,i,l=t[2]&&tn(t);return{c(){e=M("div"),n=M("div"),s=F(),l&&l.c(),D(n,"width",ge.ZONE_SIZE+"%"),d(n,"class","bg-primary secondary-shadow h-[2.5vw]"),d(e,"class","primary-shadow default-game-position w-[20vw] h-[0.5vw] bg-primary-50 flex items-center justify-center")},m(c,o){L(c,e,o),A(e,n),A(e,s),l&&l.m(e,null),i=!0},p(c,o){c[2]?l?(l.p(c,o),o&4&&S(l,1)):(l=tn(c),l.c(),S(l,1),l.m(e,null)):l&&(Z(),T(l,1,1,()=>{l=null}),G())},i(c){i||(S(l),c&&Y(()=>{i&&(r||(r=P(e,O,{},!0)),r.run(1))}),i=!0)},o(c){T(l),c&&(r||(r=P(e,O,{},!1)),r.run(0)),i=!1},d(c){c&&E(e),l&&l.d(),c&&r&&r.end()}}}function tn(t){let e,n,s=Q(t[2].keys),r=[];for(let l=0;l<s.length;l+=1)r[l]=nn(xt(t,s,l));const i=l=>T(r[l],1,1,()=>{r[l]=null});return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=$()},m(l,c){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(l,c);L(l,e,c),n=!0},p(l,c){if(c&5){s=Q(l[2].keys);let o;for(o=0;o<s.length;o+=1){const u=xt(l,s,o);r[o]?(r[o].p(u,c),S(r[o],1)):(r[o]=nn(u),r[o].c(),S(r[o],1),r[o].m(e.parentNode,e))}for(Z(),o=s.length;o<r.length;o+=1)i(o);G()}},i(l){if(!n){for(let c=0;c<s.length;c+=1)S(r[c]);n=!0}},o(l){r=r.filter(Boolean);for(let c=0;c<r.length;c+=1)T(r[c]);n=!1},d(l){l&&E(e),be(r,l)}}}function nn(t){let e,n;const s=[t[12],{active:t[0]===t[14]}];let r={};for(let i=0;i<s.length;i+=1)r=Oe(r,s[i]);return e=new Hs({props:r}),{c(){re(e.$$.fragment)},m(i,l){x(e,i,l),n=!0},p(i,l){const c=l&5?kn(s,[l&4&&Sn(i[12]),l&1&&{active:i[0]===i[14]}]):{};e.$set(c)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function qs(t){let e,n,s=t[1]&&en(t);return{c(){s&&s.c(),e=$()},m(r,i){s&&s.m(r,i),L(r,e,i),n=!0},p(r,[i]){r[1]?s?(s.p(r,i),i&2&&S(s,1)):(s=en(r),s.c(),S(s,1),s.m(e.parentNode,e)):s&&(Z(),T(s,1,1,()=>{s=null}),G())},i(r){n||(S(s),n=!0)},o(r){T(s),n=!1},d(r){r&&E(e),s&&s.d(r)}}}function Ws(t,e,n){let s;W(t,K,m=>n(5,s=m));let r=null,i=!1,l=null,c=null,o;K.subscribe(m=>{let p=m.active&&m.type===q.NumberSlide&&!l;p?(n(1,i=!0),_()):i&&!p&&(n(1,i=!1),n(2,l=null),c=null,u())});function u(){o==null||o.removeListener(),o=null}async function f(){if(i)return n(0,r=null),new Promise((m,p)=>{const{keys:b}=l,{ZONE_SIZE:I}=ge;let k=[];function h(w){k.forEach(N=>N()),k=[],b.forEach((N,y)=>{let{left:C}=N;C.set(Me(C),{duration:0}),n(2,l.keys[y].state=w?"success":"fail",l)}),m(w)}b.forEach((w,N)=>{let y=l.keys[N];k.push(w.left.subscribe(C=>{C>=50-I/2&&C<=50+I/2?n(0,r=N):C>50+I/2&&y.state!=="success"&&(y.state="fail",n(2,l.keys[N]=y,l),h(!1))}))}),o=de(ae.pressed,w=>{const N=w.key.toUpperCase();if(!ye.Numbers.includes(N))return;const y=l.keys[r];y||h(!1),N===y.key?(y.state="success",n(2,l.keys[r]=y,l),l.keys.every(R=>R.state==="success")&&h(!0)):h(!1)})})}async function a(m,p){if(!i)return;u();let{difficulty:b,numberOfKeys:I}=p;b=(b||ge.FALLBACK_DIFFICULTY)>=100?99:b<=0?5:b,I=I||ge.FALLBACK_NUM_KEYS;const k=v(b),h=g(I,k);n(2,l={duration:k,keys:h}),c=null,n(0,r=null),await we(500);const w=await f();u(),c=w?"success":"fail",setTimeout(()=>{if(i)if(w&&m>0)if(m--,m>0)a(m,p);else{K.finish(!0),n(2,l=null);return}else{K.finish(!1),n(2,l=null);return}},500)}function _(){if(!s.active||l)return;const{iterations:m,config:p}=s;a(m,p)}function v(m){const{MIN:p,MAX:b}=ge.DURATION;let I=p+(b-p)*((100-m)/100);const k=I*.2,h=Math.random()*k;return I+=h,I}function g(m,p){const b=ge.ZONE_SIZE,I=p*(b/100),k=[];for(let h=0;h<m;h++){const w={key:le("Numbers"),left:De(0,{duration:0}),state:null};setTimeout(()=>{c||w.left.set(100,{duration:p})},I*h),k.push(w)}return k}return[r,i,l]}class Js extends se{constructor(e){super(),ne(this,e,Ws,qs,V,{})}}function sn(t){let e,n,s,r,i;return{c(){e=M("div"),D(e,"left",t[2]+"%"),D(e,"width",xs+"vw"),d(e,"class",n="grid place-items-center z-10 absolute h-[1vw] default-colour-transition "+(t[0]==="success"?"bg-success glow-success":t[0]==="fail"?"bg-fail glow-fail":t[0]==="active"?"bg-accent glow-accent":"bg-primary secondary-shadow"))},m(l,c){L(l,e,c),i=!0},p(l,c){(!i||c&4)&&D(e,"left",l[2]+"%"),(!i||c&1&&n!==(n="grid place-items-center z-10 absolute h-[1vw] default-colour-transition "+(l[0]==="success"?"bg-success glow-success":l[0]==="fail"?"bg-fail glow-fail":l[0]==="active"?"bg-accent glow-accent":"bg-primary secondary-shadow")))&&d(e,"class",n)},i(l){i||(l&&Y(()=>{i&&(r&&r.end(1),s=ss(e,O,{duration:250}),s.start())}),i=!0)},o(l){s&&s.invalidate(),l&&(r=rs(e,O,{duration:250,delay:250})),i=!1},d(l){l&&E(e),l&&r&&r.end()}}}function Qs(t){let e,n=t[2]>0&&t[2]<100&&sn(t);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),L(s,e,r)},p(s,[r]){s[2]>0&&s[2]<100?n?(n.p(s,r),r&4&&S(n,1)):(n=sn(s),n.c(),S(n,1),n.m(e.parentNode,e)):n&&(Z(),T(n,1,1,()=>{n=null}),G())},i(s){S(n)},o(s){T(n)},d(s){s&&E(e),n&&n.d(s)}}}const xs=.5;function er(t,e,n){let s,r=B,i=()=>(r(),r=qe(c,o=>n(2,s=o)),c);t.$$.on_destroy.push(()=>r());let{state:l=null}=e,{left:c=null}=e;return i(),t.$$set=o=>{"state"in o&&n(0,l=o.state),"left"in o&&i(n(1,c=o.left))},[l,c,s]}class tr extends se{constructor(e){super(),ne(this,e,er,Qs,V,{state:0,left:1})}}function rn(t,e,n){const s=t.slice();return s[12]=e[n],s[14]=n,s}function ln(t){let e,n,s,r,i,l,c,o=t[0]&&on(t);return{c(){e=M("div"),n=M("div"),s=M("p"),s.textContent=`${ye.Primary}`,i=F(),o&&o.c(),d(s,"class","text-shadow absolute font-bold text-[2vw]"),d(n,"class","h-[2.5vw] aspect-square absolute grid place-items-center center-y secondary-shadow bg-primary-50 -translate-x-[130%]"),d(e,"class","primary-shadow default-game-position w-[20vw] h-[0.5vw] bg-primary-25 flex items-center")},m(u,f){L(u,e,f),A(e,n),A(n,s),A(e,i),o&&o.m(e,null),c=!0},p(u,f){u[0]?o?(o.p(u,f),f&1&&S(o,1)):(o=on(u),o.c(),S(o,1),o.m(e,null)):o&&(Z(),T(o,1,1,()=>{o=null}),G())},i(u){c||(u&&Y(()=>{c&&(r||(r=P(s,O,{duration:100},!0)),r.run(1))}),S(o),u&&Y(()=>{c&&(l||(l=P(e,O,{},!0)),l.run(1))}),c=!0)},o(u){u&&(r||(r=P(s,O,{duration:100},!1)),r.run(0)),T(o),u&&(l||(l=P(e,O,{},!1)),l.run(0)),c=!1},d(u){u&&E(e),u&&r&&r.end(),o&&o.d(),u&&l&&l.end()}}}function on(t){let e,n,s,r,i=Q(t[0].lines),l=[];for(let o=0;o<i.length;o+=1)l[o]=cn(rn(t,i,o));const c=o=>T(l[o],1,1,()=>{l[o]=null});return{c(){e=M("div"),n=F();for(let o=0;o<l.length;o+=1)l[o].c();s=$(),D(e,"width",t[0].zone+"%"),D(e,"left",Ie.ZONE_FROM_RIGHT+"%"),d(e,"class","bg-primary secondary-shadow h-[1vw] z-0 absolute -translate-x-full")},m(o,u){L(o,e,u),L(o,n,u);for(let f=0;f<l.length;f+=1)l[f]&&l[f].m(o,u);L(o,s,u),r=!0},p(o,u){if((!r||u&1)&&D(e,"width",o[0].zone+"%"),u&1){i=Q(o[0].lines);let f;for(f=0;f<i.length;f+=1){const a=rn(o,i,f);l[f]?(l[f].p(a,u),S(l[f],1)):(l[f]=cn(a),l[f].c(),S(l[f],1),l[f].m(s.parentNode,s))}for(Z(),f=i.length;f<l.length;f+=1)c(f);G()}},i(o){if(!r){for(let u=0;u<i.length;u+=1)S(l[u]);r=!0}},o(o){l=l.filter(Boolean);for(let u=0;u<l.length;u+=1)T(l[u]);r=!1},d(o){o&&(E(e),E(n),E(s)),be(l,o)}}}function cn(t){let e,n;const s=[t[12]];let r={};for(let i=0;i<s.length;i+=1)r=Oe(r,s[i]);return e=new tr({props:r}),{c(){re(e.$$.fragment)},m(i,l){x(e,i,l),n=!0},p(i,l){const c=l&1?kn(s,[Sn(i[12])]):{};e.$set(c)},i(i){n||(S(e.$$.fragment,i),n=!0)},o(i){T(e.$$.fragment,i),n=!1},d(i){ee(e,i)}}}function nr(t){let e,n,s=t[1]&&ln(t);return{c(){s&&s.c(),e=$()},m(r,i){s&&s.m(r,i),L(r,e,i),n=!0},p(r,[i]){r[1]?s?(s.p(r,i),i&2&&S(s,1)):(s=ln(r),s.c(),S(s,1),s.m(e.parentNode,e)):s&&(Z(),T(s,1,1,()=>{s=null}),G())},i(r){n||(S(s),n=!0)},o(r){T(s),n=!1},d(r){r&&E(e),s&&s.d(r)}}}function sr(t,e,n){let s;W(t,K,m=>n(4,s=m));let r=null,i=!1,l=null,c;K.subscribe(m=>{let p=m.active&&m.type===q.RapidLines&&!r;p?(n(1,i=!0),a()):i&&!p&&(n(1,i=!1),n(0,r=null),l=null,o())});function o(){c==null||c.removeListener(),c=null}async function u(){if(i)return new Promise((m,p)=>{const{lines:b,zone:I}=r,{ZONE_FROM_RIGHT:k}=Ie,h={max:k,min:k-I};let w=[];function N(y){w.forEach(C=>C()),w=[],b.forEach((C,R)=>{let{left:U}=C;U.set(Me(U),{duration:0}),n(0,r.lines[R].state=y?"success":"fail",r)}),m(y)}b.forEach((y,C)=>{let R=r.lines[C];w.push(y.left.subscribe(U=>{U>h.min&&U<h.max&&R.state!=="success"?R.state="active":(U==100||U>h.max)&&R.state!=="success"&&(R.state="fail",N(!1)),n(0,r.lines[C]=R,r)}))}),c=de(ae.pressed,y=>{if(y.key.toUpperCase()!==ye.Primary)return;let R=!1,U=0,X=0;if(b.forEach((H,z)=>{let{left:_e,state:me}=H;if(me==="active"){const pe=Me(_e);pe>h.min&&pe<h.max&&(R=!0,pe>U&&(X=z,U=pe))}}),!R)N(!1);else{const H=r.lines[X];H.state="success",n(0,r.lines[X]=H,r),r.lines.every(_e=>_e.state==="success")&&N(!0)}})})}async function f(m,p){if(!i)return;o();let{difficulty:b,numberOfKeys:I}=p;b=(b||Ie.FALLBACK_DIFFICULTY)>=100?99:b<=0?5:b,I=I||Ie.FALLBACK_NUM_LINES;const k=v(b),h=g(I,k),w=_(b);n(0,r={duration:k,lines:h,zone:w}),l=null,await we(500);const N=await u();o(),l=N?"success":"fail",setTimeout(()=>{if(i)if(N&&m>0)if(m--,m>0)f(m,p);else{K.finish(!0),n(0,r=null);return}else{K.finish(!1),n(0,r=null);return}},500)}function a(){if(!s.active||r)return;const{iterations:m,config:p}=s;f(m,p)}function _(m){const{MIN:p,MAX:b}=Ie.ZONE;let I=p+(b-p)*((100-m)/100);const k=I*.2,h=Math.random()*k;return I+=h,I}function v(m){const{MIN:p,MAX:b}=Ie.DURATION;let I=p+(b-p)*((100-m)/100);const k=I*.2,h=Math.random()*k;return I+=h,I}function g(m,p){const b=[];let I=0;const k=350;for(let h=0;h<m;h++){const w=Math.random()*100,N=p*(.2+Math.random()*.6);let y=I+N+(w/100+h*10);y-I<k&&(y=I+k),I=y;const C={left:De(0,{duration:0}),state:null};setTimeout(()=>{l||C.left.set(100,{duration:p})},y),b.push(C)}return b}return[r,i]}class rr extends se{constructor(e){super(),ne(this,e,sr,nr,V,{})}}function un(t,e,n){const s=t.slice();s[23]=e[n],s[28]=n;const r=100/s[20];s[24]=r;const i=s[28]/s[20]*360;s[25]=i;const l=s[28]+1;return s[26]=l,s}function ut(t){const e=t.slice(),n=e[2].stages;e[20]=n;const s=e[2].progress+"%";e[21]=s;const r=e[2].currentStage;return e[22]=r,e}function fn(t){let e,n,s,r,i,l,c=t[2]&&an(ut(t)),o=t[2]&&_n(t);return{c(){e=M("div"),n=M("div"),c&&c.c(),s=F(),r=j("svg"),o&&o.c(),d(n,"style",t[10]),d(n,"class","absolute secondary-shadow grid place-items-center bg-primary-50 rounded-full svelte-5equ90"),vt(n,"shake",t[5]),d(r,"style",t[9]),d(r,"version","1.1"),d(r,"class","z-0 absolute overflow-visible"),d(r,"xmlns","http://www.w3.org/2000/svg"),d(e,"style",t[9]),d(e,"class","grid place-items-center origin-center primary-shadow default-game-position rounded-full circle-shake-main")},m(u,f){L(u,e,f),A(e,n),c&&c.m(n,null),A(e,s),A(e,r),o&&o.m(r,null),t[11](e),l=!0},p(u,f){u[2]?c?c.p(ut(u),f):(c=an(ut(u)),c.c(),c.m(n,null)):c&&(c.d(1),c=null),(!l||f&32)&&vt(n,"shake",u[5]),u[2]?o?o.p(u,f):(o=_n(u),o.c(),o.m(r,null)):o&&(o.d(1),o=null)},i(u){l||(u&&Y(()=>{l&&(i||(i=P(e,O,{},!0)),i.run(1))}),l=!0)},o(u){u&&(i||(i=P(e,O,{},!1)),i.run(0)),l=!1},d(u){u&&E(e),c&&c.d(),o&&o.d(),t[11](null),u&&i&&i.end()}}}function an(t){let e,n,s,r,i=Q({length:t[20]}),l=[];for(let c=0;c<i.length;c+=1)l[c]=dn(un(t,i,c));return{c(){e=j("svg");for(let c=0;c<l.length;c+=1)l[c].c();n=F(),s=M("div"),r=M("div"),d(e,"version","1.1"),d(e,"class","z-0 absolute overflow-visible w-full h-full"),d(e,"xmlns","http://www.w3.org/2000/svg"),d(r,"class","bg-accent glow-accent rounded-full aspect-square"),D(r,"width",t[21]),d(s,"class","absolute aspect-square w-full grid place-items-center rounded-full overflow-hidden z-10")},m(c,o){L(c,e,o);for(let u=0;u<l.length;u+=1)l[u]&&l[u].m(e,null);L(c,n,o),L(c,s,o),A(s,r)},p(c,o){if(o&388){i=Q({length:c[20]});let u;for(u=0;u<i.length;u+=1){const f=un(c,i,u);l[u]?l[u].p(f,o):(l[u]=dn(f),l[u].c(),l[u].m(e,null))}for(;u<l.length;u+=1)l[u].d(1);l.length=i.length}o&4&&D(r,"width",c[21])},d(c){c&&(E(e),E(n),E(s)),be(l,c)}}}function dn(t){let e,n,s;return{c(){e=j("circle"),D(e,"transform","rotate("+(-90+t[25])+"deg)"),d(e,"class",n="absolute radial "+(t[26]<t[22]?"stroke-white":t[26]==t[22]?"stroke-accent glow-accent ":"stroke-primary-50")+" origin-center"),d(e,"stroke-dasharray",t[8]+"vw"),d(e,"stroke-dashoffset",s=t[8]*((101-t[24])/100)+"vw"),d(e,"stroke-width",Cn+"vw"),d(e,"fill-opacity","0"),d(e,"cx","50%"),d(e,"cy","50%"),d(e,"r",t[7]+"vw")},m(r,i){L(r,e,i)},p(r,i){i&4&&D(e,"transform","rotate("+(-90+r[25])+"deg)"),i&4&&n!==(n="absolute radial "+(r[26]<r[22]?"stroke-white":r[26]==r[22]?"stroke-accent glow-accent ":"stroke-primary-50")+" origin-center")&&d(e,"class",n),i&4&&s!==(s=r[8]*((101-r[24])/100)+"vw")&&d(e,"stroke-dashoffset",s)},d(r){r&&E(e)}}}function _n(t){let e,n,s;return{c(){e=j("circle"),n=j("circle"),D(e,"stroke-width",Te*.1+"vw"),d(e,"class","absolute fill-none stroke-primary"),d(e,"cx","50%"),d(e,"cy","50%"),d(e,"r",Te*.95+"vw"),D(n,"transform","rotate("+(t[3]-180)+"deg)"),d(n,"class",s="absolute origin-center default-colour-transition "+(t[4]==="success"?"glow-success stroke-success":t[4]==="fail"?"glow-fail stroke-fail":"stroke-accent glow-accent")),d(n,"stroke-dasharray",t[6]+"vw"),d(n,"stroke-dashoffset",t[6]*((100-ir)/100)+"vw"),d(n,"stroke-width",Cn+"vw"),d(n,"fill-opacity","0"),d(n,"cx","50%"),d(n,"cy","50%"),d(n,"r",Te*.95+"vw")},m(r,i){L(r,e,i),L(r,n,i)},p(r,i){i&8&&D(n,"transform","rotate("+(r[3]-180)+"deg)"),i&16&&s!==(s="absolute origin-center default-colour-transition "+(r[4]==="success"?"glow-success stroke-success":r[4]==="fail"?"glow-fail stroke-fail":"stroke-accent glow-accent"))&&d(n,"class",s)},d(r){r&&(E(e),E(n))}}}function lr(t){let e,n=t[1]&&fn(t);return{c(){n&&n.c(),e=$()},m(s,r){n&&n.m(s,r),L(s,e,r)},p(s,[r]){s[1]?n?(n.p(s,r),r&2&&S(n,1)):(n=fn(s),n.c(),S(n,1),n.m(e.parentNode,e)):n&&(Z(),T(n,1,1,()=>{n=null}),G())},i(s){S(n)},o(s){T(n)},d(s){s&&E(e),n&&n.d(s)}}}const ir=2,Cn=.5,Te=5;function or(t,e,n){let s;W(t,K,y=>n(13,s=y));let r=null;const i=Te*2,l=2*Math.PI*Te,c=Te/1.5,o=2*Math.PI*c,u=`
        width: ${i}vw;
        height: ${i}vw;
    `,f=`
        width: ${i/2}vw;
        height: ${i/2}vw;
    `;let a=!1,_=null,v=0,g=null,m,p=!1;K.subscribe(y=>{let C=y.active&&y.type===q.CircleShake&&!_;C?(n(1,a=!0),h()):a&&!C&&(n(1,a=!1),n(2,_=null),n(4,g=null),n(5,p=!1),b())});function b(){m==null||m.removeListener(),m=null}async function I(y){if(!a)return;const C=()=>Math.random()*(150-50)+50;let R=C();return n(5,p=!1),new Promise((U,X)=>{let H=setInterval(()=>{!a||!p||(n(2,_.progress+=1,_),_.progress>=100&&(_.currentStage<_.stages?(n(2,_.currentStage++,_),n(2,_.progress=0,_),n(2,_.target=w(y),_),R=C(),n(5,p=!1)):(n(5,p=!1),clearInterval(H),U(!0))))},R),z=!1;m=de(In.move,_e=>{const me=r.getBoundingClientRect(),pe=_.target,Tn=_e.clientX,Mn=_e.clientY,Rn=me.left+me.width/2,Dn=me.top+me.height/2;n(3,v=Ts(Tn,Mn,Rn,Dn));const Kn=Se(pe.rotation),Un=Se(pe.rotation+pe.size*3.6);v>Kn&&v<Un?(z=!0,setTimeout(()=>{z&&n(5,p=!0)},500)):(z=!1,n(5,p=!1))})})}async function k(y,C){if(!a)return;b(),n(3,v=0),n(5,p=!1);let{difficulty:R,numberOfKeys:U}=C;R=(R||st.FALLBACK_DIFFICULTY)>=100?99:R<=0?5:R,U=U||st.FALLBACK_NUM_KEYS,n(2,_={target:w(R),stages:U,currentStage:1,progress:0}),n(4,g=null),await we(500);const X=await I(R);n(4,g=X?"success":"fail"),setTimeout(()=>{if(a)if(X&&y>0)if(y--,y>0)k(y,C);else{K.finish(!0),n(2,_=null);return}else{K.finish(!1),n(2,_=null);return}},500)}function h(){if(!s.active||_)return;const{iterations:y,config:C}=s;k(y,C)}function w(y){y=y>=100?99:y<=0?5:y;const{MIN:C,MAX:R}=st.SIZE,U=R-y/100*(R-C),X=-180,H=180;let z=Math.random()*(H-X)+H;return Se(z)>0&&Se(z+U*3.6)<0?z=z-U*3.6:Se(z)<0&&Se(z+U*3.6)>0&&(z=z+U*3.6),{size:U,rotation:z}}function N(y){ft[y?"unshift":"push"](()=>{r=y,n(0,r)})}return[r,a,_,v,g,p,l,c,o,u,f,N]}class cr extends se{constructor(e){super(),ne(this,e,or,lr,V,{})}}function ur(t){let e,n,s,r,i,l,c,o,u,f,a,_,v,g;return e=new Ks({}),s=new Os({}),i=new Ys({}),c=new Xs({}),u=new Js({}),a=new rr({}),v=new cr({}),{c(){re(e.$$.fragment),n=F(),re(s.$$.fragment),r=F(),re(i.$$.fragment),l=F(),re(c.$$.fragment),o=F(),re(u.$$.fragment),f=F(),re(a.$$.fragment),_=F(),re(v.$$.fragment)},m(m,p){x(e,m,p),L(m,n,p),x(s,m,p),L(m,r,p),x(i,m,p),L(m,l,p),x(c,m,p),L(m,o,p),x(u,m,p),L(m,f,p),x(a,m,p),L(m,_,p),x(v,m,p),g=!0},i(m){g||(S(e.$$.fragment,m),S(s.$$.fragment,m),S(i.$$.fragment,m),S(c.$$.fragment,m),S(u.$$.fragment,m),S(a.$$.fragment,m),S(v.$$.fragment,m),g=!0)},o(m){T(e.$$.fragment,m),T(s.$$.fragment,m),T(i.$$.fragment,m),T(c.$$.fragment,m),T(u.$$.fragment,m),T(a.$$.fragment,m),T(v.$$.fragment,m),g=!1},d(m){m&&(E(n),E(r),E(l),E(o),E(f),E(_)),ee(e,m),ee(s,m),ee(i,m),ee(c,m),ee(u,m),ee(a,m),ee(v,m)}}}function mn(t){let e,n;return e=new Cs({}),{c(){re(e.$$.fragment)},m(s,r){x(e,s,r),n=!0},i(s){n||(S(e.$$.fragment,s),n=!0)},o(s){T(e.$$.fragment,s),n=!1},d(s){ee(e,s)}}}function fr(t){let e,n,s,r;e=new hs({props:{$$slots:{default:[ur]},$$scope:{ctx:t}}});let i=t[0]&&mn();return{c(){re(e.$$.fragment),n=F(),i&&i.c(),s=$()},m(l,c){x(e,l,c),L(l,n,c),i&&i.m(l,c),L(l,s,c),r=!0},p(l,[c]){const o={};c&2&&(o.$$scope={dirty:c,ctx:l}),e.$set(o),l[0]?i?c&1&&S(i,1):(i=mn(),i.c(),S(i,1),i.m(s.parentNode,s)):i&&(Z(),T(i,1,1,()=>{i=null}),G())},i(l){r||(S(e.$$.fragment,l),S(i),r=!0)},o(l){T(e.$$.fragment,l),T(i),r=!1},d(l){l&&(E(n),E(s)),ee(e,l),i&&i.d(l)}}}function ar(t,e,n){let s;return W(t,En,r=>n(0,s=r)),bt.set({fallbackResourceName:"debug",allowEscapeKey:!0}),ms(),[s]}class dr extends se{constructor(e){super(),ne(this,e,ar,fr,V,{})}}new dr({target:document.getElementById("app")});
